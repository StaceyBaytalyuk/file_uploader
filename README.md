# CSV file uploader

### 1. Установка и запуск проекта в IDE: ###
1.	Загрузить проект в IDE, например IntelliJ IDEA: File → New → Project from Version Control. В поле URL вставить ссылку на репозиторий: https://github.com/StaceyBaytalyuk/file_uploader
2.	Создать базу данных под названием `file_uploader` в СУБД PostgreSQL при помощи утилиты pgAdmin.
3.	Убериться, что в файле `src/main/resources/application.properties` значения поля `username` и `password` соответствуют установленным в pgAdmin.
4.	Запустить проект.
5.	В браузере перейти в главное меню по ссылке http://localhost:8080/main_menu
6.	Нажать кнопку **Загрузить файлы**, выбрать файл и нажать кнопку **Загрузить файлы**. В качестве примера можно загрузить файлы input1.csv и input2.csv из этого проекта. Теперь, при соблюдении всех требований к файлу (см. параграф 3), данные о файле появятся в разделе **Статистика**, а данные из файла доступны в разделе **Люди**. Доступ к этим разделам совершается через главное меню.

### 2. Развёртывание сервиса на Tomcat: ###
Если вы желаете запустить проект не с IDE, а на сервере Tomcat, необходимо выполнить следующие действия:
1. Выполнить пункты 1-3 из списка в параграфе 1.
2. Выполнить Maven goal `mvn package`. В папке `target` появится веб-архив `file_uploader.war`. Этот пункт можно пропустить, используя готовый .war файл из этого проекта.
3. Скопировать веб-архив в папку `webapps` в каталоге Tomcat.
4. Перейти по ссылке http://localhost:8080/manager/html. Убедитесь, что приложение `file_uploader` запущено.
5. Перейти в главное меню по ссылке http://localhost:8080/file_uploader/main_menu.
6. Дальнейшие действия такие же, как при запуске проекта в IDE. Единственное отличие - необходимо указывать имя приложения между localhost:8080 и запросом, например: http://localhost:8080/file_uploader/main_menu вместо http://localhost:8080/main_menu.

### 3. Требования к загружаемым файлам: ###
1. Расширение .csv
2. Разделитель запятая `,`
3. Заголовки `name,age`
4. Размер файла не более 128 кб. Чтобы изменить максимальный размер, отредактируйте значения `spring.servlet.multipart.max-file-size=128KB` и `spring.servlet.multipart.max-request-size=128KB` в файле `application.properties`.

### 4. Доступные функции: ###
#### Поиск файлов ####
1. По id
2. По имени
3. По времени загрузки (введите интервал дат)
#### Поиск людей ####
1. По id
2. По имени
3. По возрасту (введите интервал лет)
